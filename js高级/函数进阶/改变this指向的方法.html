<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
        <button>点击</button>
        <button>点击</button>
        <button>点击</button>


    <script>

// 改变函数内部的this指向 js提供了三种方法  call()      apply()      bing()


    // 1. call()      将函数内部this指向了obj
        var callobj = {
            name: 'djl'
        }
        function f1() {  
            console.log(this)
        }
        f1.call(callobj)

    // 2. apply()        方法和call相同 但是参数不同 call的参数是字符   apply的参数是数组  但是打印的类型根据数组中的类型相同
        var applyobj = {
            name: 'apply'
        }
        function f2(arr) {  
            console.log(this)
            console.log(arr)
        }
        f2.apply(applyobj,['pink'])
        // apply 主要应用 比如 可以利用apply 借助 数学内置对象求最大值
        var arr = [1,88,54,6,24,158];
        var max = Math.max.apply(Math,arr);
        console.log(max)  // 158

    // 3. bing()    绑定        不会调用函数 可以改变this指向   且返回的是改变this之后产生的新函数
        // var bingobj = {
        //     name: 'djl'
        // }
        // function f3() {  
        //     console.log(this)
        // }
        // var newf3 = f3.bind(bingobj);        // newf3 接收了一个新的函数
        // newf3();
        // // bing方法的 主要用处 有些函数不需要立即执行 但是又想改变this执行 那么用bing方法合适
        // // 例子: 有一个按钮，点击后，就禁用这个按钮，三秒后打开   
        // var btn = document.querySelector('button');
        // btn.onclick = function () {  
        //     // var that = this
        //     this.disabled = true;
        //     setInterval(function() {
        //         this.disabled = false;     // 这里的this指向的是window  要改变执行才能实现
        //     }.bind(this),3000)             // 这个this 指向的是 btn   
        // };
        // 当button是多个的时候 就能体现出bind方法的价值
            var btns = document.querySelectorAll('button');
            for (var i = 0; i < btns.length; i++) {
                btns[i].onclick = function () {  
                    this.disabled = true;
                    setTimeout(function () {
                        this.disabled = false
                    }.bind(this),2000) // 这里的this 指向btns[i]
                }
            };

    </script>
</body>
</html>