<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>
        
        axios.defaults.baseURL = 'http://localhost:3000/'
    // axios 请求拦截器   第一个config参数为拦截  第二个错误信息
        // axios.interceptors.request.use((config) => {
        //     // 将get请求 的请求头设置为hello  再发送到服务器
        //     config.headers.mytoken = 'hello'
        //     return config
        // }, (err) => {
        //     console.log(err)
        // })


        // axios.get('geshi').then((result) => {
        //     console.log(result.data)  // 后面的data才是要的数据是固定写法
        //     console.log(result.status)  // 常用   获取状态码 200
        // });


    // axios 响应拦截器   第一个config参数为拦截  第二个错误信息
        axios.interceptors.response.use((res) => {
            // 对获取到的数据进行拦截  加工后 返回出来

            // 将对象中的data直接返回
            var data = res.data
            return data
        }, (err) => {
            console.log(err)
        })


        axios.get('geshi').then((result) => {
            // 这里就不需要result.data 了
            console.log(result)  
        })
    </script>
</body>
</html>