(function(e){function t(t){for(var r,i,o=t[0],l=t[1],u=t[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);c&&c(t);while(p.length)p.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},n={app:0},s=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var c=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0077":function(e,t,a){},"07c8":function(e,t,a){"use strict";var r=a("aeeb"),n=a.n(r);n.a},3462:function(e,t,a){"use strict";var r=a("3dbe"),n=a.n(r);n.a},"3dbe":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("99af"),a("4de4"),a("4d90"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},s=[],i={name:"app"},o=i,l=a("2877"),u=Object(l["a"])(o,n,s,!1,null,"20b52187",null),c=u.exports,d=a("8c4f"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login_container"},[a("div",{staticClass:"login_box"},[e._m(0),a("el-form",{ref:"loginFormRef",staticClass:"login_form",attrs:{model:e.loginForm,rules:e.loginFormRules,"label-width":"0px"}},[a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{"prefix-icon":"iconfont icon-user"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{"prefix-icon":"iconfont icon-3702mima",type:"password"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),a("el-form-item",{staticClass:"btns"},[a("el-button",{attrs:{plain:!0,type:"primary"},on:{click:e.login}},[e._v("登录")]),a("el-button",{attrs:{type:"info"},on:{click:e.resetLoginForm}},[e._v("重置")])],1)],1)],1)])},m=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"logo_box"},[r("img",{attrs:{src:a("cf05"),alt:""}})])}],f=(a("96cf"),a("1da1")),g={data:function(){return{loginForm:{username:"admin",password:"123456"},loginFormRules:{username:[{required:!0,message:"请输入登录名称",trigger:"blur"},{min:2,max:8,message:"长度在 2 到 8 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:15,message:"长度在 6 到 15 个字符",trigger:"blur"}]}}},methods:{resetLoginForm:function(){this.$refs.loginFormRef.resetFields()},login:function(){var e=this;this.$refs.loginFormRef.validate(function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(a){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$http.post("login",e.loginForm);case 4:if(r=t.sent,n=r.data,200===n.meta.status){t.next=8;break}return t.abrupt("return",e.$message.error("登录失败！"));case 8:e.$message.success("登录成功！"),window.sessionStorage.setItem("token",n.data.token),e.$router.push("/home");case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},b=g,h=(a("7992"),Object(l["a"])(b,p,m,!1,null,"4550294a",null)),v=h.exports,w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{staticClass:"home-container"},[r("el-header",[r("div",[r("img",{attrs:{src:a("9424"),alt:""}}),r("span",[e._v("后台管理系统")])]),r("el-button",{attrs:{type:"info"},on:{click:e.logout}},[e._v("退出登录")])],1),r("el-container",[r("el-aside",{attrs:{width:e.isZhedie?"64px":"200px"}},[r("div",{staticClass:"toggle-btn",on:{click:e.zhedie}},[e._v(" ||| ")]),r("el-menu",{attrs:{"background-color":"#333744","text-color":"#fff","active-text-color":"#409Eff","unique-opened":!0,collapse:e.isZhedie,"collapse-transition":!1,router:"","default-active":e.activePath}},e._l(e.menulist,(function(t){return r("el-submenu",{key:t.id,attrs:{index:t.id+""}},[r("template",{slot:"title"},[r("i",{class:e.iconsObj[t.id]}),r("span",[e._v(e._s(t.authName))])]),e._l(t.children,(function(t){return r("el-menu-item",{key:t.id,attrs:{index:"/"+t.path},on:{click:function(a){return e.gaoliang("/"+t.path)}}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-menu"}),r("span",[e._v(e._s(t.authName))])])],2)}))],2)})),1)],1),r("el-main",[r("router-view")],1)],1)],1)},_=[],x={data:function(){return{menulist:[],iconsObj:{125:"iconfont icon-user",103:"iconfont icon-tijikongjian",101:"iconfont icon-shangpin",102:"iconfont icon-danju",145:"iconfont icon-baobiao"},isZhedie:!1,activePath:""}},created:function(){this.getMenuList(),this.activePath=window.sessionStorage.getItem("activePath")},methods:{logout:function(){window.sessionStorage.clear(),this.$router.push("/login")},getMenuList:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/menus");case 2:if(a=t.sent,r=a.data,200===r.meta.status){t.next=6;break}return t.abrupt("return",e.$message.error(r.meta.msg));case 6:e.menulist=r.data;case 7:case"end":return t.stop()}}),t)})))()},zhedie:function(){this.isZhedie=!this.isZhedie},gaoliang:function(e){window.sessionStorage.setItem("activePath",e),this.activePath=e}}},y=x,k=(a("b277"),Object(l["a"])(y,w,_,!1,null,"a540eac2",null)),R=k.exports,$=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},D=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",[e._v("Welcome")])])}],C={},A=C,L=Object(l["a"])(A,$,D,!1,null,"617024d2",null),O=L.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("用户管理")]),a("el-breadcrumb-item",[e._v("用户列表")])],1),a("el-card",{staticClass:"box-card"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:7}},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},on:{clear:e.getUserList},model:{value:e.usersListParams.query,callback:function(t){e.$set(e.usersListParams,"query",t)},expression:"usersListParams.query"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getUserList},slot:"append"})],1)],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addDialogVisible=!0}}},[e._v("添加用户")])],1)],1),a("el-table",{attrs:{data:e.usersList,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80px"}}),a("el-table-column",{attrs:{label:"姓名",prop:"username",width:"180px"}}),a("el-table-column",{attrs:{label:"邮箱",prop:"email",width:"180px"}}),a("el-table-column",{attrs:{label:"电话",prop:"mobile",width:"180px"}}),a("el-table-column",{attrs:{label:"角色",prop:"role_name",width:"180px"}}),a("el-table-column",{attrs:{label:"状态",width:"180px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(a){return e.userState(t.row)}},model:{value:t.row.mg_state,callback:function(a){e.$set(t.row,"mg_state",a)},expression:"scope.row.mg_state"}})]}}])}),a("el-table-column",{attrs:{label:"操作",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.showEditDialog(t.row.id)}}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.delUsers(t.row.id)}}}),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"角色分配",placement:"right",enterable:!1}},[a("el-button",{attrs:{type:"warning",icon:"el-icon-setting",size:"mini"},on:{click:function(a){return e.setRole(t.row)}}})],1)]}}])})],1),a("el-pagination",{attrs:{"current-page":e.usersListParams.pagenum,"page-sizes":[1,2,3],"page-size":e.usersListParams.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:"用户添加",visible:e.addDialogVisible,width:"50%"},on:{"update:visible":function(t){e.addDialogVisible=t},close:e.addDialogClose}},[a("el-form",{ref:"addUsersRef",attrs:{model:e.addUsers,rules:e.addUsersRules,"label-width":"70px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{model:{value:e.addUsers.username,callback:function(t){e.$set(e.addUsers,"username",t)},expression:"addUsers.username"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{model:{value:e.addUsers.password,callback:function(t){e.$set(e.addUsers,"password",t)},expression:"addUsers.password"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{model:{value:e.addUsers.email,callback:function(t){e.$set(e.addUsers,"email",t)},expression:"addUsers.email"}})],1),a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("el-input",{model:{value:e.addUsers.mobile,callback:function(t){e.$set(e.addUsers,"mobile",t)},expression:"addUsers.mobile"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.ifAddUsers}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"用户修改",visible:e.putDialogVisible,width:"50%"},on:{"update:visible":function(t){e.putDialogVisible=t},close:e.putDialogClose}},[a("el-form",{ref:"putUsersRef",attrs:{model:e.putUsers,rules:e.putUsersRules,"label-width":"70px"}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{attrs:{disabled:""},model:{value:e.putUsers.username,callback:function(t){e.$set(e.putUsers,"username",t)},expression:"putUsers.username"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{model:{value:e.putUsers.email,callback:function(t){e.$set(e.putUsers,"email",t)},expression:"putUsers.email"}})],1),a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("el-input",{model:{value:e.putUsers.mobile,callback:function(t){e.$set(e.putUsers,"mobile",t)},expression:"putUsers.mobile"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.putDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.isPutUsers}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"分配角色",visible:e.setRoleVisible,width:"50%"},on:{"update:visible":function(t){e.setRoleVisible=t},close:e.setRoleDialogClose}},[a("div",[a("p",[e._v("当前的用户: "+e._s(e.roleInfo.username))]),a("p",[e._v("当前的角色: "+e._s(e.roleInfo.role_name))]),a("p",[e._v("分配新角色: "),[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.selectRoleId,callback:function(t){e.selectRoleId=t},expression:"selectRoleId"}},e._l(e.roleList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.roleName,value:e.id}})})),1)]],2)]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.setRoleVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.isSetRole}},[e._v("确 定")])],1)])],1)},V=[],j={data:function(){return{usersListParams:{query:"",pagenum:1,pagesize:3},usersList:[],total:0,addDialogVisible:!1,putDialogVisible:!1,addUsers:{username:"",password:"",email:"",mobile:""},addUsersRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:8,message:"用户名的长度在2~8个字符之间",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:15,message:"密码的长度在6~15个字符之间",trigger:"blur"}],email:[{required:!0,message:"请填写邮箱",trigger:"blur"}],mobile:[{required:!0,message:"请填写手机号",trigger:"blur"}]},putUsersRules:{email:[{required:!0,message:"请填写邮箱",trigger:"blur"}],mobile:[{required:!0,message:"请填写手机号",trigger:"blur"}]},putUsers:{},setRoleVisible:!1,roleInfo:{},roleList:[],selectRoleId:""}},created:function(){this.getUserList()},methods:{getUserList:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("users",{params:e.usersListParams});case 2:if(a=t.sent,r=a.data,200===r.meta.status){t.next=6;break}return t.abrupt("return",e.$message.error("获取用户列表失败！"));case 6:e.usersList=r.data.users,e.total=r.data.total;case 8:case"end":return t.stop()}}),t)})))()},handleSizeChange:function(e){this.usersListParams.pagesize=e,this.getUserList()},handleCurrentChange:function(e){this.usersListParams.pagenum=e,this.getUserList()},userState:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.put("users/".concat(e.id,"/state/").concat(e.mg_state));case 2:if(r=a.sent,n=r.data,200===n.meta.status){a.next=7;break}return e.mg_state=!e.mg_state,a.abrupt("return",t.$message.error("用户状态修改错误！"));case 7:t.$message.success("用户状态修改成功！");case 8:case"end":return a.stop()}}),a)})))()},addDialogClose:function(){this.$refs.addUsersRef.resetFields()},ifAddUsers:function(){var e=this;this.$refs.addUsersRef.validate(function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(a){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$http.post("users",e.addUsers);case 4:if(r=t.sent,n=r.data,201===n.meta.status){t.next=8;break}return t.abrupt("return",e.$message.error("用户添加失败！"));case 8:e.$message.success("用户添加成功"),e.addDialogVisible=!1,e.getUserList();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},showEditDialog:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.get("users/".concat(e));case 2:if(r=a.sent,n=r.data,200===n.meta.status){a.next=6;break}return a.abrupt("return",t.$message.error("查询该用户数据失败"));case 6:t.putUsers=n.data,t.putDialogVisible=!0;case 8:case"end":return a.stop()}}),a)})))()},putDialogClose:function(){this.$refs.putUsersRef.resetFields()},isPutUsers:function(){var e=this;this.$refs.putUsersRef.validate(function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(a){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$http.put("users/".concat(e.putUsers.id),{email:e.putUsers.email,mobile:e.putUsers.mobile});case 4:if(r=t.sent,n=r.data,200===n.meta.status){t.next=10;break}return t.abrupt("return",e.$http.message.error("用户修改失败！"));case 10:e.putDialogVisible=!1,e.getUserList(),e.$message.success("用户修改成功！");case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},delUsers:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function a(){var r,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$confirm("此操作将永久删除该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 2:if(r=a.sent,"confirm"===r){a.next=5;break}return a.abrupt("return",t.$message.info("成功取消删除操作！"));case 5:return a.next=7,t.$http.delete("users/".concat(e));case 7:if(n=a.sent,s=n.data,200===s.meta.status){a.next=11;break}return a.abrupt("return",t.$message.error("用户删除操作失败！"));case 11:t.$message.success("用户删除操作成功！"),t.getUserList();case 13:case"end":return a.stop()}}),a)})))()},setRole:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.roleInfo=e,a.next=3,t.$http.get("roles");case 3:if(r=a.sent,n=r.data,200===n.meta.status){a.next=7;break}return a.abrupt("return",t.$message.error("获取角色列表数据失败！"));case 7:t.roleList=n.data,t.setRoleVisible=!0;case 9:case"end":return a.stop()}}),a)})))()},setRoleDialogClose:function(){this.selectRoleId="",this.roleInfo={},this.setRoleVisible=!1},isSetRole:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.selectRoleId){t.next=2;break}return t.abrupt("return",e.$message.error("请选择分配的新角色！"));case 2:return t.next=4,e.$http.put("users/".concat(e.roleInfo.id,"/role"),{rid:e.selectRoleId});case 4:if(a=t.sent,r=a.data,200===r.meta.status){t.next=8;break}return t.abrupt("return",e.$message.error("分配新角色操作失败！"));case 8:e.getUserList(),e.setRoleVisible=!1,e.$message.success("分配新角色操作成功！");case 11:case"end":return t.stop()}}),t)})))()}}},F=j,P=Object(l["a"])(F,I,V,!1,null,"404d3a16",null),U=P.exports,q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("权限管理")]),a("el-breadcrumb-item",[e._v("权限列表")])],1),a("el-card",[a("el-table",{attrs:{data:e.rightsList,border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"60px"}}),a("el-table-column",{attrs:{label:"权限名称",prop:"authName"}}),a("el-table-column",{attrs:{label:"路径",prop:"path"}}),a("el-table-column",{attrs:{label:"权限等级"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"===t.row.level?a("el-tag",[e._v("一级")]):e._e(),"1"===t.row.level?a("el-tag",{attrs:{type:"success"}},[e._v("二级")]):e._e(),"2"===t.row.level?a("el-tag",{attrs:{type:"warning"}},[e._v("三级")]):e._e()]}}])})],1)],1)],1)},z=[],S={data:function(){return{rightsList:[]}},created:function(){this.getRightsList()},methods:{getRightsList:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http("rights/list");case 2:if(a=t.sent,r=a.data,200===r.meta.status){t.next=6;break}return t.abrupt("return",e.$message.error("权限列表数据获取失败！"));case 6:e.rightsList=r.data;case 7:case"end":return t.stop()}}),t)})))()}}},N=S,T=(a("07c8"),Object(l["a"])(N,q,z,!1,null,"1d7f0154",null)),B=T.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("权限管理")]),a("el-breadcrumb-item",[e._v("角色列表")])],1),a("el-card",[a("el-row",[a("el-col",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addRolesDialogVisible=!0}}},[e._v("添加角色")])],1)],1),a("el-table",{attrs:{data:e.rolesList,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"expand",width:"60px",label:"#"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.children,(function(r,n){return a("el-row",{key:r.id,class:["bdbotton",0===n?"bdtop":"","vcenter"]},[a("el-col",{attrs:{span:5}},[a("el-tag",{attrs:{closable:""},on:{close:function(a){return e.removeRightById(t.row,r.id)}}},[e._v(e._s(r.authName))]),a("i",{staticClass:"el-icon-caret-right"})],1),a("el-col",{attrs:{span:19}},e._l(r.children,(function(r,n){return a("el-row",{key:r.id,class:["bdbotton",0===n?"":"bdtop","vcenter"]},[a("el-col",{attrs:{span:6}},[a("el-tag",{attrs:{type:"success",closable:""},on:{close:function(a){return e.removeRightById(t.row,r.id)}}},[e._v(e._s(r.authName))]),a("i",{staticClass:"el-icon-caret-right"})],1),a("el-col",{attrs:{span:10}},e._l(r.children,(function(r){return a("el-tag",{key:r.id,attrs:{type:"warning",closable:""},on:{close:function(a){return e.removeRightById(t.row,r.id)}}},[e._v(e._s(r.authName))])})),1)],1)})),1)],1)}))}}])}),a("el-table-column",{attrs:{type:"index",label:"序号",width:"60px"}}),a("el-table-column",{attrs:{label:"角色名称",prop:"roleName"}}),a("el-table-column",{attrs:{label:"角色描述",prop:"roleDesc"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(a){return e.showEditDialog(t.row.id)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(a){return e.rolesDel(t.row.id)}}},[e._v("删除")]),a("el-button",{attrs:{type:"warning",size:"mini",icon:"el-icon-setting"},on:{click:function(a){return e.showSetRightDialog(t.row)}}},[e._v("分配权限")])]}}])})],1)],1),a("el-dialog",{attrs:{title:"角色添加",visible:e.addRolesDialogVisible,width:"50%"},on:{"update:visible":function(t){e.addRolesDialogVisible=t},close:e.addRolesDialogClose}},[a("el-form",{ref:"addRolesRef",attrs:{model:e.addRoles,rules:e.addRolessRules,"label-width":"90px"}},[a("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[a("el-input",{model:{value:e.addRoles.roleName,callback:function(t){e.$set(e.addRoles,"roleName",t)},expression:"addRoles.roleName"}})],1),a("el-form-item",{attrs:{label:"角色描述",prop:"roleDesc"}},[a("el-input",{model:{value:e.addRoles.roleDesc,callback:function(t){e.$set(e.addRoles,"roleDesc",t)},expression:"addRoles.roleDesc"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addRolesDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.ifAddRoles}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"角色编辑",visible:e.putRolesDialogVisible,width:"50%"},on:{"update:visible":function(t){e.putRolesDialogVisible=t},close:e.putRolesDialogClose}},[a("el-form",{ref:"putRolesRef",attrs:{model:e.putRoles,rules:e.putRolessRules,"label-width":"90px"}},[a("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[a("el-input",{model:{value:e.putRoles.roleName,callback:function(t){e.$set(e.putRoles,"roleName",t)},expression:"putRoles.roleName"}})],1),a("el-form-item",{attrs:{label:"角色描述",prop:"roleDesc"}},[a("el-input",{model:{value:e.putRoles.roleDesc,callback:function(t){e.$set(e.putRoles,"roleDesc",t)},expression:"putRoles.roleDesc"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.putRolesDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.ifPutRoles}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"分配权限",visible:e.setRightDialogVisible,width:"50%"},on:{"update:visible":function(t){e.setRightDialogVisible=t},close:e.setRightDialogClose}},[a("el-tree",{ref:"treeRef",attrs:{data:e.rightsList,props:e.treeProps,"show-checkbox":"","node-key":"id","default-expand-all":!0,"default-checked-keys":e.defKeys}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.setRightDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.ifRights}},[e._v("确 定")])],1)],1)],1)},M=[],Y=(a("4160"),a("a15b"),a("159b"),a("2909")),G={data:function(){return{rolesList:[],addRolesDialogVisible:!1,addRoles:{roleName:"",roleDesc:""},addRolessRules:{roleName:[{required:!0,message:"请输入角色名称",trigger:"blur"},{min:2,max:8,message:"用户名的长度在2~8个字符之间",trigger:"blur"}],roleDesc:[{required:!0,message:"请输入角色描述",trigger:"blur"}]},putRolesDialogVisible:!1,putRoles:{},putRolessRules:{roleName:[{required:!0,message:"请填写角色名称",trigger:"blur"}],roleDesc:[{required:!0,message:"请填写角色描述",trigger:"blur"}]},setRightDialogVisible:!1,rightsList:[],treeProps:{label:"authName",children:"children"},defKeys:[],roleId:""}},created:function(){this.getRolesList()},methods:{getRolesList:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("roles");case 2:if(a=t.sent,r=a.data,200===r.meta.status){t.next=6;break}return t.abrupt("return",e.$message.error("获取角色列表数据失败！"));case 6:e.rolesList=r.data;case 7:case"end":return t.stop()}}),t)})))()},addRolesDialogClose:function(){this.$refs.addRolesRef.resetFields()},ifAddRoles:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.addRolesRef.validate(function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(a){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$http.post("roles",e.addRoles);case 4:if(r=t.sent,n=r.data,201===n.meta.status){t.next=8;break}return t.abrupt("return",e.$message.error("角色添加失败！"));case 8:e.$message.success("角色添加成功！"),e.addRolesDialogVisible=!1,e.getRolesList();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},rolesDel:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function a(){var r,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$confirm("此操作将永久删除该角色, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 2:if(r=a.sent,"confirm"===r){a.next=5;break}return a.abrupt("return",t.$message.info("成功取消删除操作！"));case 5:return a.next=7,t.$http.delete("roles/".concat(e));case 7:if(n=a.sent,s=n.data,200===s.meta.status){a.next=11;break}return a.abrupt("return",t.$message.error("用户删除操作失败！"));case 11:t.$message.success("用户删除操作成功！"),t.getRolesList();case 13:case"end":return a.stop()}}),a)})))()},putRolesDialogClose:function(){this.$refs.putRolesRef.resetFields()},showEditDialog:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.get("roles/".concat(e));case 2:if(r=a.sent,n=r.data,200===n.meta.status){a.next=6;break}return a.abrupt("return",t.$message.error("查询该角色数据失败！"));case 6:t.putRoles=n.data,t.putRolesDialogVisible=!0;case 8:case"end":return a.stop()}}),a)})))()},ifPutRoles:function(){var e=this;this.$refs.putRolesRef.validate(function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(a){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$http.put("roles/".concat(e.putRoles.roleId),{roleName:e.putRoles.roleName,roleDesc:e.putRoles.roleDesc});case 4:if(r=t.sent,n=r.data,200===n.meta.status){t.next=8;break}return t.abrupt("return",e.$message.error("编辑该角色失败！"));case 8:e.putRolesDialogVisible=!1,e.getRolesList(),e.$message.success("编辑该角色成功！");case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},removeRightById:function(e,t){var a=this;return Object(f["a"])(regeneratorRuntime.mark((function r(){var n,s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,a.$confirm("此操作将永久删除该标签权限, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 2:if(n=r.sent,"confirm"===n){r.next=5;break}return r.abrupt("return",a.$message.info("成功取消删除操作！"));case 5:return r.next=7,a.$http.delete("roles/".concat(e.id,"/rights/").concat(t));case 7:if(s=r.sent,i=s.data,200===i.meta.status){r.next=11;break}return r.abrupt("return",a.$message.error("该标签删除失败！"));case 11:a.$message.success("该标签删除成功！"),e.children=i.data;case 13:case"end":return r.stop()}}),r)})))()},showSetRightDialog:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.roleId=e.id,a.next=3,t.$http.get("rights/tree");case 3:if(r=a.sent,n=r.data,200===n.meta.status){a.next=7;break}return a.abrupt("return",t.$message.error("该角色的权限分配数据获取失败！"));case 7:t.rightsList=n.data,t.getDefKeys(e,t.defKeys),t.setRightDialogVisible=!0;case 10:case"end":return a.stop()}}),a)})))()},getDefKeys:function(e,t){var a=this;if(!e.children)return t.push(e.id);e.children.forEach((function(e){a.getDefKeys(e,t)}))},setRightDialogClose:function(){this.defKeys=[]},ifRights:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=[].concat(Object(Y["a"])(e.$refs.treeRef.getCheckedKeys()),Object(Y["a"])(e.$refs.treeRef.getHalfCheckedNodes())),r=a.join(","),t.next=4,e.$http.post("roles/".concat(e.roleId,"/rights"),{rids:r});case 4:if(n=t.sent,s=n.data,200===s.meta.status){t.next=8;break}return t.abrupt("return",e.$message.error("该角色分配权限失败！"));case 8:e.setRightDialogVisible=!1,e.getRolesList(),e.$message.success("该角色分配权限成功！");case 11:case"end":return t.stop()}}),t)})))()}}},J=G,K=(a("bb16"),Object(l["a"])(J,E,M,!1,null,"08ae962e",null)),Z=K.exports,X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("商品管理")]),a("el-breadcrumb-item",[e._v("商品列表")])],1),a("el-card",{staticClass:"box-card"},[a("el-row",[a("el-col",[a("el-button",{attrs:{type:"primary"},on:{click:e.addCateDialog}},[e._v("添加分类")])],1),a("tree-table",{attrs:{data:e.cateList,border:"",stripe:"",columns:e.columns,"selection-type":!1,"expand-type":!1,"show-index":!0,"index-text":"#"},scopedSlots:e._u([{key:"isOk",fn:function(e){return[!1===e.row.cat_deleted?a("i",{staticClass:"el-icon-success",staticStyle:{color:"green"}}):a("i",{staticClass:"el-icon-error",staticStyle:{color:"red"}})]}},{key:"Grade",fn:function(t){return[0===t.row.cat_level?a("el-tag",[e._v("一级")]):e._e(),1===t.row.cat_level?a("el-tag",{attrs:{type:"success"}},[e._v("二级")]):e._e(),2===t.row.cat_level?a("el-tag",{attrs:{type:"warning"}},[e._v("三级")]):e._e()]}},{key:"setting",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(a){return e.cateDel(t.row.cat_id)}}},[e._v("删除")])]}}])}),a("el-pagination",{attrs:{"current-page":e.queryInfo.pagenum,"page-sizes":[1,3,5,10],"page-size":e.queryInfo.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),a("el-dialog",{attrs:{title:"添加分类",visible:e.cateDialogVisible,width:"50%"},on:{"update:visible":function(t){e.cateDialogVisible=t},close:e.addCateClose}},[a("el-form",{ref:"addCateRef",attrs:{model:e.addCate,rules:e.addCateRules}},[a("el-form-item",{attrs:{label:"分类名称:",prop:"cat_name"}},[a("el-input",{model:{value:e.addCate.cat_name,callback:function(t){e.$set(e.addCate,"cat_name",t)},expression:"addCate.cat_name"}})],1),a("el-form-item",{attrs:{label:"父级分类:"}},[a("el-cascader",{attrs:{"expand-trigger":"hover",options:e.parentCateList,props:e.cateProps,clearable:""},on:{change:e.parentCateChange},model:{value:e.selectData,callback:function(t){e.selectData=t},expression:"selectData"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.cateDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.ifCateDialog}},[e._v("确 定")])],1)],1)],1)},H=[],Q={data:function(){return{queryInfo:{type:3,pagenum:1,pagesize:5},total:0,cateList:[],columns:[{label:"分类名称",prop:"cat_name"},{label:"是否有效",type:"template",template:"isOk"},{label:"排序",type:"template",template:"Grade"},{label:"操作",type:"template",template:"setting"}],cateDialogVisible:!1,addCate:{cat_name:"",cat_pid:0,cat_level:0},addCateRules:{cat_name:[{required:!0,message:"请填写分类名称",trigger:"blur"}]},parentCateList:[],cateProps:{value:"cat_id",label:"cat_name",children:"children"},selectData:[]}},created:function(){this.getCateList()},methods:{getCateList:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("categories",{params:e.queryInfo});case 2:if(a=t.sent,r=a.data,200===r.meta.status){t.next=6;break}return t.abrupt("return",e.$message.error("商品分类的数据获取失败！"));case 6:e.cateList=r.data.result,e.total=r.data.total;case 8:case"end":return t.stop()}}),t)})))()},handleSizeChange:function(e){this.queryInfo.pagesize=e,this.getCateList()},handleCurrentChange:function(e){this.queryInfo.pagenum=e,this.getCateList()},addCateDialog:function(){this.cateDialogVisible=!0,this.getParentCateList()},getParentCateList:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("categories",{params:{type:2}});case 2:if(a=t.sent,r=a.data,200===r.meta.status){t.next=6;break}return t.abrupt("return",e.$message.error("父级分类数据获取失败！"));case 6:e.parentCateList=r.data;case 7:case"end":return t.stop()}}),t)})))()},parentCateChange:function(){if(this.selectData.length>0)return this.addCate.cat_pid=this.selectData[this.selectData.length-1],void(this.addCate.cat_level=this.selectData.length);this.addCate.cat_pid=0,this.addCate.cat_level=0},addCateClose:function(){this.$refs.addCateRef.resetFields(),this.selectData=[],this.addCate.cat_pid=0,this.addCate.cat_level=0},ifCateDialog:function(){var e=this;this.$refs.addCateRef.validate(function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(a){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$http.post("categories",e.addCate);case 4:if(r=t.sent,n=r.data,201===n.meta.status){t.next=8;break}return t.abrupt("return",e.$message.error("添加商品分类数据失败！"));case 8:e.getCateList(),e.cateDialogVisible=!1,e.$message.success("添加商品分类数据成功！");case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},cateDel:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function a(){var r,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$confirm("此操作将永久删除该角色, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 2:if(r=a.sent,"confirm"===r){a.next=5;break}return a.abrupt("return",t.$message.info("成功取消删除操作！"));case 5:return a.next=7,t.$http.delete("categories/".concat(e));case 7:if(n=a.sent,s=n.data,200===s.meta.status){a.next=11;break}return a.abrupt("return",t.$message.error("用户删除操作失败！"));case 11:t.$message.success("用户删除操作成功！"),t.getCateList();case 13:case"end":return a.stop()}}),a)})))()}}},W=Q,ee=(a("3462"),Object(l["a"])(W,X,H,!1,null,"a8a62c78",null)),te=ee.exports,ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("商品管理")]),a("el-breadcrumb-item",[e._v("参数列表")])],1),a("el-card",{staticClass:"box-card"},[a("el-alert",{attrs:{title:"注意：只允许为第三级分类设置相关参数",type:"warning","show-icon":""}}),a("el-row",{staticClass:"select_opt"},[a("el-col",[a("span",[e._v("选择商品分类：")]),a("el-cascader",{attrs:{"expand-trigger":"hover",options:e.cateList,props:e.cateProps,clearable:""},on:{change:e.handleChange},model:{value:e.selectData,callback:function(t){e.selectData=t},expression:"selectData"}})],1)],1),a("el-tabs",{on:{"tab-click":e.handleTabsClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"动态参数",name:"many"}},[a("el-button",{attrs:{type:"primary",size:"mini",disabled:e.isBtnDisabled},on:{click:e.addManyAttrDialog}},[e._v("添加参数")]),a("el-table",{attrs:{data:e.manyTabsData,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"expand",width:"60px",label:"#"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._l(t.row.attr_vals,(function(r,n){return a("el-tag",{key:n,attrs:{type:"primary",closable:""},on:{close:function(a){return e.handleClose(n,t.row)}}},[e._v(e._s(r))])})),t.row.inputVisible?a("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:function(a){return e.handleInputConfirm(t.row)}},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.handleInputConfirm(t.row)}},model:{value:t.row.inputValue,callback:function(a){e.$set(t.row,"inputValue",a)},expression:"scope.row.inputValue"}}):a("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:function(a){return e.showInput(t.row)}}},[e._v("+ New Tag")])]}}])}),a("el-table-column",{attrs:{type:"index",label:"序号",width:"60px"}}),a("el-table-column",{attrs:{label:"参数名称",prop:"attr_name"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(a){return e.putParams(t.row.attr_id)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(a){return e.delParams(t.row.attr_id)}}},[e._v("删除")])]}}])})],1)],1),a("el-tab-pane",{attrs:{label:"静态属性",name:"only"}},[a("el-button",{attrs:{type:"primary",size:"mini",disabled:e.isBtnDisabled},on:{click:e.addOnlyAttrDialog}},[e._v("添加参数")]),a("el-table",{attrs:{data:e.onlyTabsData,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"expand",width:"60px",label:"#"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._l(t.row.attr_vals,(function(r,n){return a("el-tag",{key:n,attrs:{type:"primary",closable:""},on:{close:function(a){return e.handleClose(n,t.row)}}},[e._v(e._s(r))])})),t.row.inputVisible?a("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:function(a){return e.handleInputConfirm(t.row)}},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.handleInputConfirm(t.row)}},model:{value:t.row.inputValue,callback:function(a){e.$set(t.row,"inputValue",a)},expression:"scope.row.inputValue"}}):a("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:function(a){return e.showInput(t.row)}}},[e._v("+ New Tag")])]}}])}),a("el-table-column",{attrs:{type:"index",label:"序号",width:"60px"}}),a("el-table-column",{attrs:{label:"属性名称",prop:"attr_name"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(a){return e.putParams(t.row.attr_id)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(a){return e.delParams(t.row.attr_id)}}},[e._v("删除")])]}}])})],1)],1)],1)],1),a("el-dialog",{attrs:{title:"添加"+e.titleText,visible:e.addAttrDialogVisible,width:"30%"},on:{"update:visible":function(t){e.addAttrDialogVisible=t},close:e.addAttrClose}},[a("el-form",{ref:"addAttrRef",attrs:{model:e.addAttr,rules:e.addAttrRules,"label-width":"90px"}},[a("el-form-item",{attrs:{label:e.titleText,prop:"attr_name"}},[a("el-input",{model:{value:e.addAttr.attr_name,callback:function(t){e.$set(e.addAttr,"attr_name",t)},expression:"addAttr.attr_name"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addAttrDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addParams}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"修改"+e.titleText,visible:e.putAttrDialogVisible,width:"30%"},on:{"update:visible":function(t){e.putAttrDialogVisible=t},close:e.putAttrClose}},[a("el-form",{ref:"putAttrRef",attrs:{model:e.putAttr,rules:e.putAttrRules,"label-width":"90px"}},[a("el-form-item",{attrs:{label:e.titleText,prop:"attr_name"}},[a("el-input",{model:{value:e.putAttr.attr_name,callback:function(t){e.$set(e.putAttr,"attr_name",t)},expression:"putAttr.attr_name"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.putAttrDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.okPutParams}},[e._v("确 定")])],1)],1)],1)},re=[],ne=(a("a434"),a("ac1f"),a("1276"),a("498a"),{data:function(){return{cateList:[],selectData:[],cateProps:{value:"cat_id",label:"cat_name",children:"children"},activeName:"many",manyTabsData:[],onlyTabsData:[],addAttrDialogVisible:!1,addAttr:{attr_name:""},addAttrRules:{attr_name:[{required:!0,message:"请输入参数名称",trigger:"blur"}]},putAttr:{},putAttrRules:{attr_name:[{required:!0,message:"请输入参数名称",trigger:"blur"}]},putAttrDialogVisible:!1}},created:function(){this.getCateList()},methods:{getCateList:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("categories");case 2:if(a=t.sent,r=a.data,200===r.meta.status){t.next=6;break}return t.abrupt("return",e.$message.error("商品分类的数据获取失败！"));case 6:e.cateList=r.data;case 7:case"end":return t.stop()}}),t)})))()},handleChange:function(){this.getParamsData()},handleTabsClick:function(){this.getParamsData()},getParamsData:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(3===e.selectData.length){t.next=4;break}return e.selectData=[],e.manyTabsData=[],e.onlyTabsData=[],t.abrupt("return");case 4:return t.next=6,e.$http.get("categories/".concat(e.cateId,"/attributes"),{params:{sel:e.activeName}});case 6:if(a=t.sent,r=a.data,200===r.meta.status){t.next=10;break}return t.abrupt("return",e.$message.error("参数获取失败！"));case 10:r.data.forEach((function(e){e.attr_vals=e.attr_vals?e.attr_vals.split(" "):[],e.inputVisible=!1,e.inputValue=""})),"many"===e.activeName?e.manyTabsData=r.data:e.onlyTabsData=r.data;case 12:case"end":return t.stop()}}),t)})))()},addOnlyAttrDialog:function(){this.addAttrDialogVisible=!0},addManyAttrDialog:function(){this.addAttrDialogVisible=!0},addAttrClose:function(){this.$refs.addAttrRef.resetFields()},addParams:function(){var e=this;this.$refs.addAttrRef.validate(function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(a){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$http.post("categories/".concat(e.cateId,"/attributes"),{attr_name:e.addAttr.attr_name,attr_sel:e.activeName});case 4:if(r=t.sent,n=r.data,201===n.meta.status){t.next=8;break}return t.abrupt("return",e.$message.error("添加"+e.titleText+"失败！"));case 8:e.getParamsData(),e.addAttrDialogVisible=!1,e.$message.success("添加"+e.titleText+"成功！");case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},putParams:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.get("categories/".concat(t.cateId,"/attributes/").concat(e),{params:{attr_sel:t.activeName}});case 2:if(r=a.sent,n=r.data,200===n.meta.status){a.next=6;break}return a.abrupt("return",t.$message.error("获取该属性失败！"));case 6:t.putAttr=n.data,t.putAttrDialogVisible=!0;case 8:case"end":return a.stop()}}),a)})))()},putAttrClose:function(){this.$refs.putAttrRef.resetFields()},okPutParams:function(){var e=this;this.$refs.putAttrRef.validate(function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(a){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$http.put("categories/".concat(e.cateId,"/attributes/").concat(e.putAttr.attr_id),{attr_name:e.putAttr.attr_name,attr_sel:e.activeName});case 4:if(r=t.sent,n=r.data,200===n.meta.status){t.next=8;break}return t.abrupt("return",e.$message.error("修改"+e.titleText+"失败！"));case 8:e.getParamsData(),e.putAttrDialogVisible=!1,e.$message.success("修改"+e.titleText+"成功！");case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},delParams:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function a(){var r,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$confirm("此操作将永久删除该标签权限, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 2:if(r=a.sent,"confirm"===r){a.next=5;break}return a.abrupt("return",t.$message.info("成功取消删除操作！"));case 5:return a.next=7,t.$http.delete("categories/".concat(t.cateId,"/attributes/").concat(e));case 7:if(n=a.sent,s=n.data,200===s.meta.status){a.next=11;break}return a.abrupt("return",t.$message.error("该标签删除失败！"));case 11:t.$message.success("该标签删除成功！"),t.getParamsData();case 13:case"end":return a.stop()}}),a)})))()},handleInputConfirm:function(e){if(0===e.inputValue.trim().length)return e.inputVisible="",void(e.inputVisible=!1);e.attr_vals.push(e.inputValue.trim()),e.inputValue="",e.inputVisible=!1,this.saveAttrVals(e)},saveAttrVals:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.put("categories/".concat(t.cateId,"/attributes/").concat(e.attr_id),{attr_name:e.attr_name,attr_sel:e.attr_sel,attr_vals:e.attr_vals.join(" ")});case 2:if(r=a.sent,n=r.data,200===n.meta.status){a.next=6;break}return a.abrupt("return",t.$message.error("修改标签项失败！"));case 6:t.$message.success("修改标签项成功！");case 7:case"end":return a.stop()}}),a)})))()},showInput:function(e){var t=this;e.inputVisible=!0,this.$nextTick((function(e){t.$refs.saveTagInput.$refs.input.focus()}))},handleClose:function(e,t){var a=this;return Object(f["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.attr_vals.splice(e,1),a.saveAttrVals(t);case 2:case"end":return r.stop()}}),r)})))()}},computed:{isBtnDisabled:function(){return 3!==this.selectData.length},cateId:function(){return 3===this.selectData.length?this.selectData[2]:null},titleText:function(){return"many"===this.activeName?"动态参数":"静态参数"}}}),se=ne,ie=(a("e6c8"),Object(l["a"])(se,ae,re,!1,null,"3b2c80c8",null)),oe=ie.exports,le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("商品管理")]),a("el-breadcrumb-item",[e._v("商品列表")])],1),a("el-card",{staticClass:"box-card"},[a("el-row",{attrs:{gutter:25}},[a("el-col",{attrs:{span:8}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容",clearable:""},on:{clear:e.getGoodsList},model:{value:e.queryInfo.query,callback:function(t){e.$set(e.queryInfo,"query",t)},expression:"queryInfo.query"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getGoodsList},slot:"append"})],1)],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary"},on:{click:e.goAddPage}},[e._v("添加商品")])],1)],1),a("el-table",{attrs:{data:e.goodsList,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80px"}}),a("el-table-column",{attrs:{label:"商品名称",prop:"goods_name"}}),a("el-table-column",{attrs:{label:"商品价格(元)",prop:"goods_price",width:"120px"}}),a("el-table-column",{attrs:{label:"商品重量",prop:"goods_weight",width:"120px"}}),a("el-table-column",{attrs:{label:"创建时间",prop:"add_time",width:"180px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("dateFormat")(t.row.add_time))+" ")]}}])}),a("el-table-column",{attrs:{label:"操作",width:"130px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.removeById(t.row.goods_id)}}})]}}])})],1),a("el-pagination",{attrs:{"current-page":e.queryInfo.pagenum,"page-sizes":[5,10,12],"page-size":e.queryInfo.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total,background:""},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},ue=[],ce={data:function(){return{queryInfo:{query:"",pagenum:1,pagesize:10},goodsList:[],total:0}},methods:{getGoodsList:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/goods",{params:e.queryInfo});case 2:if(a=t.sent,r=a.data,200===r.meta.status){t.next=6;break}return t.abrupt("return",e.$message.error("商品列表数据获取失败！"));case 6:e.goodsList=r.data.goods,e.total=r.data.total;case 8:case"end":return t.stop()}}),t)})))()},handleSizeChange:function(e){this.queryInfo.pagesize=e,this.getGoodsList()},handleCurrentChange:function(e){this.queryInfo.pagenum=e,this.getGoodsList()},removeById:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function a(){var r,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$confirm("此操作将永久删除该标签权限, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 2:if(r=a.sent,"confirm"===r){a.next=5;break}return a.abrupt("return",t.$message.info("成功取消删除操作！"));case 5:return a.next=7,t.$http.delete("goods/".concat(e));case 7:if(n=a.sent,s=n.data,200===s.meta.status){a.next=11;break}return a.abrupt("return",t.$message.error("该标签删除失败！"));case 11:t.$message.success("该标签删除成功！"),t.getGoodsList();case 13:case"end":return a.stop()}}),a)})))()},goAddPage:function(){this.$router.push("/goods/add")}},created:function(){this.getGoodsList()}},de=ce,pe=Object(l["a"])(de,le,ue,!1,null,null,null),me=pe.exports,fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("商品管理")]),a("el-breadcrumb-item",[e._v("订单列表")])],1),a("el-card",{staticClass:"box-card"},[a("el-row",{attrs:{gutter:25}},[a("el-col",{attrs:{span:8}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容",clearable:""},on:{clear:e.getOrdersList},model:{value:e.queryInfo.query,callback:function(t){e.$set(e.queryInfo,"query",t)},expression:"queryInfo.query"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getOrdersList},slot:"append"})],1)],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary"}},[e._v("添加商品")])],1)],1),a("el-table",{attrs:{data:e.ordersList,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80px"}}),a("el-table-column",{attrs:{label:"订单编号",prop:"order_number"}}),a("el-table-column",{attrs:{label:"订单价格",prop:"order_price",width:"100px"}}),a("el-table-column",{attrs:{label:"是否付款",width:"140px"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"===t.row.order_pay?a("el-tag",{attrs:{type:"danger"}},[e._v("未付款")]):e._e(),"1"===t.row.order_pay?a("el-tag",{attrs:{type:"success"}},[e._v("已付款")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"是否发货",prop:"is_send",width:"100px"}}),a("el-table-column",{attrs:{label:"下单时间",prop:"create_time",width:"250px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("dateFormat")(t.row.create_time))+" ")]}}])}),a("el-table-column",{attrs:{label:"操作",width:"160px"}},[[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"}}),a("el-button",{attrs:{type:"success",icon:"el-icon-setting",size:"mini"}})]],2)],1),a("el-pagination",{attrs:{"current-page":e.queryInfo.pagenum,"page-sizes":[5,10,12],"page-size":e.queryInfo.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total,background:""},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},ge=[],be={data:function(){return{queryInfo:{query:"",pagenum:1,pagesize:10},ordersList:[],total:0}},created:function(){this.getOrdersList()},methods:{getOrdersList:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("orders",{params:e.queryInfo});case 2:if(a=t.sent,r=a.data,200===r.meta.status){t.next=6;break}return t.abrupt("return",e.$message.error("订单列表数据获取失败！"));case 6:e.ordersList=r.data.goods,e.total=r.data.total;case 8:case"end":return t.stop()}}),t)})))()},handleSizeChange:function(e){this.queryInfo.pagesize=e,this.getOrdersList()},handleCurrentChange:function(e){this.queryInfo.pagenum=e,this.getOrdersList()}}},he=be,ve=Object(l["a"])(he,fe,ge,!1,null,null,null),we=ve.exports,_e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("商品管理")]),a("el-breadcrumb-item",[e._v("商品列表")])],1),a("el-card",{staticClass:"box-card"},[a("el-alert",{attrs:{title:"添加商品信息",type:"info",center:"","show-icon":""}}),a("el-steps",{attrs:{space:200,active:e.activeIndex-0,"finish-status":"success","align-center":""}},[a("el-step",{attrs:{title:"基本信息"}}),a("el-step",{attrs:{title:"商品参数"}}),a("el-step",{attrs:{title:"商品属性"}}),a("el-step",{attrs:{title:"商品图片"}}),a("el-step",{attrs:{title:"商品内容"}}),a("el-step",{attrs:{title:"完成"}})],1),a("el-form",{ref:"addFromRef",attrs:{model:e.addForm,rules:e.addFromRules,"label-width":"100px","label-position":"top"}},[a("el-tabs",{attrs:{"tab-position":e.tabPosition,"before-leave":e.beforeTabLeave},on:{"tab-click":e.tabClick},model:{value:e.activeIndex,callback:function(t){e.activeIndex=t},expression:"activeIndex"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"0"}},[a("el-form-item",{attrs:{label:"商品名称",prop:"goods_name"}},[a("el-input",{model:{value:e.addForm.goods_name,callback:function(t){e.$set(e.addForm,"goods_name",t)},expression:"addForm.goods_name"}})],1),a("el-form-item",{attrs:{label:"商品价格",prop:"goods_price",type:"number"}},[a("el-input",{model:{value:e.addForm.goods_price,callback:function(t){e.$set(e.addForm,"goods_price",t)},expression:"addForm.goods_price"}})],1),a("el-form-item",{attrs:{label:"商品重量",prop:"goods_weight",type:"number"}},[a("el-input",{model:{value:e.addForm.goods_weight,callback:function(t){e.$set(e.addForm,"goods_weight",t)},expression:"addForm.goods_weight"}})],1),a("el-form-item",{attrs:{label:"商品数量",prop:"goods_number",type:"number"}},[a("el-input",{model:{value:e.addForm.goods_number,callback:function(t){e.$set(e.addForm,"goods_number",t)},expression:"addForm.goods_number"}})],1),a("el-form-item",{attrs:{label:"商品分类"}},[a("el-cascader",{attrs:{options:e.cateList,props:e.cateProps},on:{change:e.handleChange},model:{value:e.addForm.goods_cat,callback:function(t){e.$set(e.addForm,"goods_cat",t)},expression:"addForm.goods_cat"}})],1)],1),a("el-tab-pane",{attrs:{label:"商品参数",name:"1"}},e._l(e.manyDataList,(function(t){return a("el-form-item",{key:t.attr_id,attrs:{label:t.attr_name}},[a("el-checkbox-group",{model:{value:t.attr_vals,callback:function(a){e.$set(t,"attr_vals",a)},expression:"item.attr_vals"}},e._l(t.attr_vals,(function(e,t){return a("el-checkbox",{key:t,attrs:{border:"",label:e}})})),1)],1)})),1),a("el-tab-pane",{attrs:{label:"商品属性",name:"2"}},e._l(e.onlyDataList,(function(t){return a("el-form-item",{key:t.attr_id,attrs:{label:t.attr_name}},[a("el-input",{model:{value:t.attr_vals,callback:function(a){e.$set(t,"attr_vals",a)},expression:"item.attr_vals"}})],1)})),1),a("el-tab-pane",{attrs:{label:"商品图片",name:"3"}},[a("el-upload",{attrs:{action:e.uploadURL,"on-success":e.handleSuccess,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"list-type":"picture",headers:e.headerObj}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1),a("el-tab-pane",{attrs:{label:"商品内容",name:"4"}},[a("quill-editor",{model:{value:e.addForm.goods_introduce,callback:function(t){e.$set(e.addForm,"goods_introduce",t)},expression:"addForm.goods_introduce"}}),a("el-button",{staticClass:"addBtn",attrs:{type:"primary"},on:{click:e.add}},[e._v("添加商品")])],1)],1)],1)],1),a("el-dialog",{attrs:{title:"图片预览",visible:e.previewVisible,width:"50%"},on:{"update:visible":function(t){e.previewVisible=t}}},[a("img",{staticClass:"previewImg",attrs:{src:e.previewPath,alt:"图片预览"}})])],1)},xe=[],ye=(a("c740"),a("2ef0")),ke=a.n(ye),Re={data:function(){return{activeIndex:"0",tabPosition:"left",addForm:{goods_name:"",goods_price:0,goods_weight:0,goods_number:0,goods_cat:[],pics:[],goods_introduce:"",attrs:[]},addFromRules:{goods_name:[{required:!0,message:"请输入商品名称",trigger:"blur"}],goods_price:[{required:!0,message:"请输入商品价格",trigger:"blur"}],goods_weight:[{required:!0,message:"请输入商品重量",trigger:"blur"}],goods_number:[{required:!0,message:"请输入商品数量",trigger:"blur"}]},cateList:[],cateProps:{expandTrigger:"hover",label:"cat_name",value:"cat_id",children:"children"},manyDataList:[],onlyDataList:[],uploadURL:"http://127.0.0.1:8888/api/private/v1/upload",headerObj:{Authorization:window.sessionStorage.getItem("token")},previewPath:"",previewVisible:!1}},created:function(){this.getCateList()},methods:{getCateList:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("categories");case 2:if(a=t.sent,r=a.data,200===r.meta.status){t.next=6;break}return t.abrupt("return",e.$message.error("商品分类数据获取失败！"));case 6:e.cateList=r.data;case 7:case"end":return t.stop()}}),t)})))()},handleChange:function(){3!==this.addForm.goods_cat.length&&(this.$message.info("必须选择三级商品分类！"),this.addForm.goods_cat=[])},beforeTabLeave:function(e,t){if("0"===t&&3!==this.addForm.goods_cat.length)return this.$message.error("请先选择商品分类！"),!1},tabClick:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("1"!==e.activeIndex){t.next=9;break}return t.next=3,e.$http.get("categories/".concat(e.cateId,"/attributes"),{params:{sel:"many"}});case 3:if(a=t.sent,r=a.data,200===r.meta.status){t.next=7;break}return t.abrupt("return",e.$message.error("动态参数获取失败！"));case 7:r.data.forEach((function(e){e.attr_vals=0===e.attr_vals.length?[]:e.attr_vals.split(" ")})),e.manyDataList=r.data;case 9:if("2"!==e.activeIndex){t.next=17;break}return t.next=12,e.$http.get("categories/".concat(e.cateId,"/attributes"),{params:{sel:"only"}});case 12:if(n=t.sent,s=n.data,200===s.meta.status){t.next=16;break}return t.abrupt("return",e.$message.error("静态属性获取失败！"));case 16:e.onlyDataList=s.data;case 17:case"end":return t.stop()}}),t)})))()},handlePreview:function(e){this.previewPath=e.response.data.url,this.previewVisible=!0},handleRemove:function(e){e.response.data.tmp_path;var t=this.addForm.pics.findIndex((function(e){e.pic}));this.addForm.pics.splice(t,1)},handleSuccess:function(e){var t={pic:e.data.tmp_path};this.addForm.pics.push(t)},add:function(){var e=this;this.$refs.addFromRef.validate(function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(a){var r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return",e.$message.error("请填写必要的表单项！"));case 2:return r=ke.a.cloneDeep(e.addForm),r.goods_cat=r.goods_cat.join(","),e.manyDataList.forEach((function(t){var a={attr_id:t.attr_id,attr_value:t.attr_vals.join(" ")};e.addForm.attrs.push(a)})),e.onlyDataList.forEach((function(t){var a={attr_id:t.attr_id,attr_value:t.attr_vals};e.addForm.attrs.push(a)})),r.attrs=e.addForm.attrs,t.next=9,e.$http.post("goods",r);case 9:if(n=t.sent,s=n.data,201===s.meta.status){t.next=13;break}return t.abrupt("return",e.$message.error("添加商品失败！"));case 13:e.$message.success("商品添加成功！"),e.$router.push("/goods");case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},computed:{cateId:function(){return 3===this.addForm.goods_cat.length?this.addForm.goods_cat[2]:null}}},$e=Re,De=(a("7cb2"),Object(l["a"])($e,_e,xe,!1,null,null,null)),Ce=De.exports,Ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("数据统计")]),a("el-breadcrumb-item",[e._v("数据报表")])],1),a("el-card",[a("div",{staticStyle:{width:"800px",height:"600px"},attrs:{id:"main"}})])],1)},Le=[],Oe=a("313e"),Ie=a.n(Oe),Ve={data:function(){return{}},created:function(){},mounted:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Ie.a.init(document.getElementById("main")),t.next=3,e.$http.get("reports/type/1");case 3:if(r=t.sent,n=r.data,200===n.meta.status){t.next=7;break}return t.abrupt("return",e.$message.error("折线图数据获取失败！"));case 7:s=ke.a.merge(n.data,e.options),a.setOption(s);case 9:case"end":return t.stop()}}),t)})))()},methods:{}},je=Ve,Fe=Object(l["a"])(je,Ae,Le,!1,null,null,null),Pe=Fe.exports;r["default"].use(d["a"]);var Ue=[{path:"/",redirect:"/login"},{path:"/login",component:v},{path:"/home",component:R,redirect:"/welcome",children:[{path:"/welcome",component:O},{path:"/users",component:U},{path:"/rights",component:B},{path:"/roles",component:Z},{path:"/categories",component:te},{path:"/params",component:oe},{path:"/goods",component:me},{path:"/orders",component:we},{path:"/goods/add",component:Ce},{path:"/reports",component:Pe}]}],qe=new d["a"]({routes:Ue});qe.beforeEach((function(e,t,a){if("/login"===e.path)return a();var r=window.sessionStorage.getItem("token");if(!r)return a("/login");a()}));var ze=qe,Se=(a("9e1f"),a("450d"),a("6ed5")),Ne=a.n(Se),Te=(a("0fb7"),a("f529")),Be=a.n(Te),Ee=(a("915d"),a("e04d")),Me=a.n(Ee),Ye=(a("28b2"),a("c7ad")),Ge=a.n(Ye),Je=(a("6611"),a("e772")),Ke=a.n(Je),Ze=(a("1f1ab"),a("4e4b")),Xe=a.n(Ze),He=(a("5e32"),a("6721")),Qe=a.n(He),We=(a("e612"),a("dd87")),et=a.n(We),tt=(a("075a"),a("72aa")),at=a.n(tt),rt=(a("cbb5"),a("8bbc")),nt=a.n(rt),st=(a("a7cc"),a("df33")),it=a.n(st),ot=(a("672e"),a("101e")),lt=a.n(ot),ut=(a("0c67"),a("299c")),ct=a.n(ut),dt=(a("e960"),a("b35b")),pt=a.n(dt),mt=(a("5466"),a("ecdf")),ft=a.n(mt),gt=(a("38a0"),a("ad41")),bt=a.n(gt),ht=(a("f4f9"),a("c2cc")),vt=a.n(ht),wt=(a("7a0f"),a("0f6c")),_t=a.n(wt),xt=(a("b8e0"),a("a4c4")),yt=a.n(xt),kt=(a("b84d"),a("c216")),Rt=a.n(kt),$t=(a("8f24"),a("76b9")),Dt=a.n($t),Ct=(a("8bd8"),a("4cb2")),At=a.n(Ct),Lt=(a("d2ac"),a("95b0")),Ot=a.n(Lt),It=(a("9c49"),a("6640")),Vt=a.n(It),jt=(a("ce18"),a("f58e")),Ft=a.n(jt),Pt=(a("4ca3"),a("443e")),Ut=a.n(Pt),qt=(a("a673"),a("7b31")),zt=a.n(qt),St=(a("de31"),a("c69e")),Nt=a.n(St),Tt=(a("a769"),a("5cc3")),Bt=a.n(Tt),Et=(a("adec"),a("3d2d")),Mt=a.n(Et),Yt=(a("10cb"),a("f3ad")),Gt=a.n(Yt),Jt=(a("d4df"),a("7fc1")),Kt=a.n(Jt),Zt=(a("560b"),a("dcdc")),Xt=a.n(Zt),Ht=(a("eca7"),a("3787")),Qt=a.n(Ht),Wt=(a("f225"),a("89a9")),ea=a.n(Wt),ta=(a("425f"),a("4105")),aa=a.n(ta),ra=(a("1951"),a("eedf")),na=a.n(ra);r["default"].use(na.a),r["default"].use(aa.a),r["default"].use(ea.a),r["default"].use(Qt.a),r["default"].use(Xt.a),r["default"].use(Kt.a),r["default"].use(Gt.a),r["default"].use(Mt.a),r["default"].use(Bt.a),r["default"].use(Nt.a),r["default"].use(zt.a),r["default"].use(Ut.a),r["default"].use(Ft.a),r["default"].use(Vt.a),r["default"].use(Ot.a),r["default"].use(At.a),r["default"].use(Dt.a),r["default"].use(Rt.a),r["default"].use(yt.a),r["default"].use(_t.a),r["default"].use(vt.a),r["default"].use(bt.a),r["default"].use(ft.a),r["default"].use(pt.a),r["default"].use(ct.a),r["default"].use(lt.a),r["default"].use(it.a),r["default"].use(nt.a),r["default"].use(at.a),r["default"].use(et.a),r["default"].use(Qe.a),r["default"].use(Xe.a),r["default"].use(Ke.a),r["default"].use(Ge.a),r["default"].use(Me.a),r["default"].prototype.$message=Be.a,r["default"].prototype.$confirm=Ne.a.confirm;a("aede"),a("82da");var sa=a("d67e"),ia=a.n(sa),oa=a("bc3a"),la=a.n(oa),ua=a("953d"),ca=a.n(ua),da=(a("a7539"),a("8096"),a("14e1"),a("323e")),pa=a.n(da);a("a5d8");la.a.interceptors.request.use((function(e){return pa.a.start(),e.headers.Authorization=window.sessionStorage.getItem("token"),e})),la.a.interceptors.response.use((function(e){return pa.a.done(),e})),la.a.defaults.baseURL="http://127.0.0.1:8888/api/private/v1/",r["default"].prototype.$http=la.a,r["default"].config.productionTip=!1,r["default"].component("tree-table",ia.a),r["default"].use(ca.a),r["default"].filter("dateFormat",(function(e){var t=new Date(e),a=t.getFullYear(),r=(t.getMonth()+1+"").padStart(2,"0"),n=(t.getDate()+"").padStart(2,"0"),s=(t.getHours()+"").padStart(2,"0"),i=(t.getMinutes()+"").padStart(2,"0"),o=(t.getSeconds()+"").padStart(2,"0");return"".concat(a,"-").concat(r,"-").concat(n," ").concat(s,":").concat(i,":").concat(o)})),new r["default"]({router:ze,render:function(e){return e(c)}}).$mount("#app")},7992:function(e,t,a){"use strict";var r=a("b6e8"),n=a.n(r);n.a},"7b48":function(e,t,a){},"7cb2":function(e,t,a){"use strict";var r=a("0077"),n=a.n(r);n.a},"82da":function(e,t,a){},9095:function(e,t,a){},9424:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAFnElEQVRoQ9WaZchtVRCGn2tiBza2YoKK2N1iISbY2FjY3d1e7C5MjMtVVMREMUDsFrEVFcXu5rnMws3hfGevtfc+3Hvn3/n22mvNrJl5553Z3ygmchk1ketPlwZMCWwMLAXj9n0JuKfngjYCVojn3wA3At+3ucQuDXgCWKNHmX2By+NvZwNH9Dy/HdhuQjBgV+A64CFga+Av4EngFWCP+NudwAvhJW//PuAXYMsJwYB3gHmAJYEPgMeAZcIjr0c4LQ2sBDwH3ARsCKwFvDm+DTAMPwdmB74FFgTOAvbuo5g3vlh4xXxZvo3yvts2B2YEHgRWBP4BTgLOiJD5so9y04cXDgFM+ruAXSKUGtnS1oDHIwxEk+OAT0fQYlrAJN4TmLxnzQPAZnEBxUa0MWB/4OIIl6Mj3k3Sn/toYU6sPUA7PTK6WPsWITQVYIh8DOwGbA58DawLnAC8WFFm/UAn//Q2sAXwE3BOBUJ/DBAorglNPbAfcAlwMDATcGIovGggjMUqyZhQ2t+bAvdXnj0MrBe/TfqrSr3Q1ACr7BJx29cAOwFjgQ+Bd4FlAW9VEZlMdmWReD5/eO0RQJhVDDM9WCRNDBAuvwC8vaeAi0LJk4FrAWuCXvkdmDSKWlJK7LfYiVZ6zXVvAXMAvwHT9ayvNaaJAcLeDcBhcdM7Ahapl4HL4hYNJWUS4O+KFrcCO4RH9ILveBleirJ6XEqt4mlBEwPuALYB5otb/KRyo96qVMK4T/JeFLf023C7OX5YiYXiJKcHHA/NAIuPaCNdkHXqekPJfPgOOBIwJ6ri7917/ib2vx/eMIwU+ZO0Qm9mS6kHLDj3AqdGAucctDLwTMZCyaCedf0bGevHLSk1IIXPAoE4uedI3syVQbIJsFXUFgEhS0oMmDWowmvAclm7/79oTuDZyJt+rwrBFjhhVE8slItGJQbIYyw0jQoOMFuQN5GmKtYBabYURH1MehsfiV6tlBhg4m0AzAz8ULtz/wXC6rZBqV1h0nr7f1SWnw/ose1zzsg1QDYpylgtNWKYIumTbnimFH2g5BpggtkCyjptVoYpUwC/RrNTJYV9z8w1QK4vdJpkemHYImu9IIfc5RrgZjLPhSPJhm2AdcNO75S6g3INSNVUJPmqbtMOnjvRMHwOqtsr1wDjXppQWsDqzh/puSEk8evMA2L/FYFAcp86MdxsXqTTSfRiInGD3p86YNq6c33dQbkeMPZtVMyFQ2s2nQFwcCXmV0U6sXOdQkEnLGI2RTZOAyXXADexYZdCy0BljoPkTOCoyoI/o9rWwmKw27mBxeuU93mJAXsBVwYLFVLrRArt3NMG3lmRE7k6cdhlEfNdOVGtlBjgZqkJ15ira3cvW7BmQOdtMenIervUAFs/8dm5p3McO7DUvGcd2GeRgy4v5MIAigN72tDOciBtZHI6+1F5S75YXTwOic3WCdZpV7ZPGFB0EaUeSJsfHxh9S8w2q417kQLRghrzjXhWEwP0gJMESde8gdlypdMKNbc4ehGKcGmVF+FqGWj1nCYG2MDbszqZOyAma6JNb+NeZ4/zUOM/DX0NQwcFdnzZ0sSAuYDPANHCEaPI9GhQjeyDAb/qSBVWA46NybWNjN7NliYGuHlip+kgsVvqUCJO9PRgkvOAw0s2cG1TA3xXKJ0mEGlVQApRkswSto/CC/bDTumKpY0B6TBj2T52lZg85Chhwjqet3k/N+eFkdZ0YYDjEEeJznTSSNGxiN55NXpbiZmUInEhp9QOgR1D3j2+DVA5id4xgCTOS3HeKTWoigYIAFZui5aD4GLU6TW2Cw+4pyjkR26HVypphbYB8quk4lDsUuDf6Oj8HCuKZY1OBnmoKwP85GQdmCX+dcCv8877qzJZGOmtPw08Hwa1iaBWKNTq4K5e7soDXelTvM9/lHcYQAHyEwYAAAAASUVORK5CYII="},"987a":function(e,t,a){},aede:function(e,t,a){},aeeb:function(e,t,a){},b277:function(e,t,a){"use strict";var r=a("987a"),n=a.n(r);n.a},b6e8:function(e,t,a){},bb16:function(e,t,a){"use strict";var r=a("7b48"),n=a.n(r);n.a},cf05:function(e,t,a){e.exports=a.p+"img/logo.82b9c7a5.png"},e6c8:function(e,t,a){"use strict";var r=a("9095"),n=a.n(r);n.a}});
//# sourceMappingURL=app.f5634af4.js.map